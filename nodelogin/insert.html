<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h1>Insert</h1>
    <form method="POST">
        <label>title</label>
        <input type="text" id="title" />
        <label>Description</label>
        <input type="text" id="des" />
        <button type="submit" id="submit_button">
            Insert into DB
        </button>
    </form>
    <script>
        document.getElementById('submit_button').addEventListener("click", function (event) {
            event.preventDefault();
            handelInsertQuery();
        })

        function handelInsertQuery() {
            try {
                const data = {
                    title: document.getElementById('title').value,
                    des: document.getElementById('des').value,
                }
                debugger;
                const res = fetch('http://localhost:4000/insert', {
                    method: 'POST', // *GET, POST, PUT, DELETE, etc.
                    mode: 'cors', // no-cors, cors, *same-origin
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data), // body data type must match "Content-Type" header
                })
                    .then(response => response.json())
                    .catch(err => {
                        console.log(err)
                    });

                console.log('Completed!', res);
            } catch (err) {
                console.error(`Error: ${err}`);
            }
        };


    </script>
</body>

</html>